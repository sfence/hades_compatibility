minetest.register_alias("bedrock:bedrock","hades_bedrock:bedrock");
minetest.register_alias("bedrock:deepstone","hades_bedrock:bedrock");
minetest.register_alias("columnia:column_bottom_hades_trees_birch_wood","columnia:column_bottom_hades_trees_cream_wood");
minetest.register_alias("columnia:column_crosslink_hades_trees_birch_wood","columnia:column_crosslink_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkangle_down_hades_trees_birch_wood","columnia:column_linkangle_down_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkangle_hades_trees_birch_wood","columnia:column_linkangle_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkcrossdown_hades_trees_birch_wood","columnia:column_linkcrossdown_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkcross_hades_trees_birch_wood","columnia:column_linkcross_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkdown_hades_trees_birch_wood","columnia:column_linkdown_hades_trees_cream_wood");
minetest.register_alias("columnia:column_link_hades_trees_birch_wood","columnia:column_link_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linktee_down_hades_trees_birch_wood","columnia:column_linktee_down_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linktee_hades_trees_birch_wood","columnia:column_linktee_hades_trees_cream_wood");
minetest.register_alias("columnia:column_linkvertical_hades_trees_birch_wood","columnia:column_linkvertical_hades_trees_cream_wood");
minetest.register_alias("columnia:column_mid_hades_trees_birch_wood","columnia:column_mid_hades_trees_cream_wood");
minetest.register_alias("columnia:column_stairsub_hades_trees_birch_wood","columnia:column_stairsub_hades_trees_cream_wood");
minetest.register_alias("columnia:column_stairsubpillar_hades_trees_birch_wood","columnia:column_stairsubpillar_hades_trees_cream_wood");
minetest.register_alias("columnia:column_top_hades_trees_birch_wood","columnia:column_top_hades_trees_cream_wood");
minetest.register_alias("doors:door_wood_birch","doors:door_wood_cream");
minetest.register_alias("doors:door_wood_birch_a","doors:door_wood_cream_a");
minetest.register_alias("doors:door_wood_birch_b","doors:door_wood_cream_b");
minetest.register_alias("doors:gate_birch_wood_closed","doors:gate_cream_wood_closed");
minetest.register_alias("doors:gate_birch_wood_open","doors:gate_cream_wood_open");
minetest.register_alias("doors:trapdoor_birch","doors:trapdoor_cream");
minetest.register_alias("doors:trapdoor_birch_open","doors:trapdoor_cream_open");
minetest.register_alias("flowerpots:flower_pot","hades_flowerpots:flower_pot");
minetest.register_alias("flowerpots:flower_pot_banana_leaves","hades_flowerpots:flower_pot_banana_leaves");
minetest.register_alias("flowerpots:flower_pot_banana_sapling","hades_flowerpots:flower_pot_banana_sapling");
minetest.register_alias("flowerpots:flower_pot_birch_leaves","hades_flowerpots:flower_pot_birch_leaves");
minetest.register_alias("flowerpots:flower_pot_birch_sapling","hades_flowerpots:flower_pot_birch_sapling");
minetest.register_alias("flowerpots:flower_pot_blue","hades_flowerpots:flower_pot_blue");
minetest.register_alias("flowerpots:flower_pot_cactus","hades_flowerpots:flower_pot_cactus");
minetest.register_alias("flowerpots:flower_pot_cocoa_sapling","hades_flowerpots:flower_pot_cocoa_sapling");
minetest.register_alias("flowerpots:flower_pot_coconut_sapling","hades_flowerpots:flower_pot_coconut_sapling");
minetest.register_alias("flowerpots:flower_pot_cultivated_jungle_leaves","hades_flowerpots:flower_pot_cultivated_jungle_leaves");
minetest.register_alias("flowerpots:flower_pot_cultivated_jungle_sapling","hades_flowerpots:flower_pot_cultivated_jungle_sapling");
minetest.register_alias("flowerpots:flower_pot_jungle_leaves","hades_flowerpots:flower_pot_jungle_leaves");
minetest.register_alias("flowerpots:flower_pot_jungle_sapling","hades_flowerpots:flower_pot_jungle_sapling");
minetest.register_alias("flowerpots:flower_pot_leaves","hades_flowerpots:flower_pot_leaves");
minetest.register_alias("flowerpots:flower_pot_olive_leaves","hades_flowerpots:flower_pot_olive_leaves");
minetest.register_alias("flowerpots:flower_pot_olive_sapling","hades_flowerpots:flower_pot_olive_sapling");
minetest.register_alias("flowerpots:flower_pot_orange","hades_flowerpots:flower_pot_orange");
minetest.register_alias("flowerpots:flower_pot_orange_leaves","hades_flowerpots:flower_pot_orange_leaves");
minetest.register_alias("flowerpots:flower_pot_orange_sapling","hades_flowerpots:flower_pot_orange_sapling");
minetest.register_alias("flowerpots:flower_pot_pale_leaves","hades_flowerpots:flower_pot_pale_leaves");
minetest.register_alias("flowerpots:flower_pot_pale_sapling","hades_flowerpots:flower_pot_pale_sapling");
minetest.register_alias("flowerpots:flower_pot_red","hades_flowerpots:flower_pot_red");
minetest.register_alias("flowerpots:flower_pot_sapling","hades_flowerpots:flower_pot_sapling");
minetest.register_alias("flowerpots:flower_pot_violet","hades_flowerpots:flower_pot_violet");
minetest.register_alias("flowerpots:flower_pot_white","hades_flowerpots:flower_pot_white");
minetest.register_alias("flowerpots:flower_pot_yellow","hades_flowerpots:flower_pot_yellow");
minetest.register_alias("hades_core:floor_bstone_sandstone2","hades_tiles:floor_stonebaked_sandstone");
minetest.register_alias("hades_core:floor_bstone_stone","hades_tiles:floor_stonebaked_stone");
minetest.register_alias("hades_core:floor_btuff_tuff","hades_tiles:floor_tuffbaked_tuff");
minetest.register_alias("hades_core:floor_chondrite_stone2","hades_tiles:floor_chondrite_stone");
minetest.register_alias("hades_core:floor_essexite_gold2","hades_tiles:floor_essexite_essexitegold");
minetest.register_alias("hades_core:floor_marble_essexite","hades_tiles:floor_marble_essexite");
--minetest.register_alias("hades_core:grass_1","hades_grass:grass_1");
--minetest.register_alias("hades_core:grass_2","hades_grass:grass_2");
--minetest.register_alias("hades_core:grass_3","hades_grass:grass_3");
--minetest.register_alias("hades_core:grass_4","hades_grass:grass_4");
--minetest.register_alias("hades_core:grass_5","hades_grass:grass_5");
--minetest.register_alias("hades_core:junglegrass","hades_grass:junglegrass");
minetest.register_alias("hades_fences:fence_birch_wood","hades_fences:fence_cream_wood");
minetest.register_alias("hades_furniture:chair","hades_furniture:chair_uncolored");
minetest.register_alias("hades_furniture:table","hades_furniture:table_uncolored");
minetest.register_alias("hades_trees:birch_wood","hades_trees:cream_wood");
minetest.register_alias("hades_trees:floor_pale_jungle","hades_tiles:floor_pale_jungle");
minetest.register_alias("hades_trees:floor_wood_jungle","hades_tiles:floor_wood_jungle");
minetest.register_alias("hades_trees:floor_wood_pale","hades_tiles:floor_wood_pale");
minetest.register_alias("itemframes:frame","hades_itemshow:frame");
minetest.register_alias("itemframes:pedestal","hades_itemshow:pedestal_stone");
--minetest.register_alias("orienteering:sextant","orienteering:sextant");
minetest.register_alias("rebeds:bed_bottom","hades_beds:bed_bottom");
minetest.register_alias("rebeds:bed_top","hades_beds:bed_top");
minetest.register_alias("rebeds:fancy_bed_bottom","hades_beds:fancy_bed_bottom");
minetest.register_alias("rebeds:fancy_bed_top","hades_beds:fancy_bed_top");
minetest.register_alias("refruit:bud_apple","hades_refruit:bud_apple");
minetest.register_alias("refruit:bud_banana","hades_refruit:bud_banana");
minetest.register_alias("refruit:bud_cocoa","hades_refruit:bud_cocoa");
minetest.register_alias("refruit:bud_coconut","hades_refruit:bud_coconut");
minetest.register_alias("refruit:bud_olive","hades_refruit:bud_olive");
minetest.register_alias("refruit:bud_orange","hades_refruit:bud_orange");
minetest.register_alias("refruit:flower_apple","hades_refruit:flower_apple");
minetest.register_alias("refruit:flower_banana","hades_refruit:flower_banana");
minetest.register_alias("refruit:flower_cocoa","hades_refruit:flower_cocoa");
minetest.register_alias("refruit:flower_coconut","hades_refruit:flower_coconut");
minetest.register_alias("refruit:flower_olive","hades_refruit:flower_olive");
minetest.register_alias("refruit:flower_orange","hades_refruit:flower_orange");
minetest.register_alias("staffgaia:head","hades_gaia:staffgaia_head");
minetest.register_alias("staffgaia:shaft","hades_gaia:staffgaia_shaft");
minetest.register_alias("staffgaia:staff","hades_gaia:staff");
minetest.register_alias("stairs:slab_birch_wood","stairs:slab_cream_wood");
minetest.register_alias("stairs:stair_birch_wood","stairs:stair_cream_wood");
minetest.register_alias("stairs:stair_in_birch_wood","stairs:stair_in_cream_wood");
minetest.register_alias("stairs:stair_out_birch_wood","stairs:stair_out_cream_wood");
minetest.register_alias("trash_can:trash_can_wooden","hades_trash:trash_can_plastic");
minetest.register_alias("vines:root","hades_vines:root");
minetest.register_alias("vines:shears","hades_vines:shears");
minetest.register_alias("vines:side","hades_vines:jungle");
minetest.register_alias("vines:side_rotten","hades_vines:jungle_rotten");
minetest.register_alias("vines:vine","hades_vines:cave");
minetest.register_alias("vines:vine_rotten","hades_vines:cave_rotten");
minetest.register_alias("vines:vines","hades_vines:root");
minetest.register_alias("vines:vines_block","hades_vines:vines_block");
minetest.register_alias("vines:willow","hades_vines:willow");
minetest.register_alias("vines:willow_rotten","hades_vines:willow_rotten");
minetest.register_alias("windows:windows_birch_wood","windows:windows_cream_wood");

local chest_formspec =
  "size[8,9]"..
  "list[current_name;main;0,0;8,4;]"..
  "list[current_player;main;0,5;8,4;]"..
  "listring[]"..
  "background9[8,8;8,9;hades_chests_chestui.png;true;8]"


minetest.register_lbm(
  {
    label = "Upgrade old chests.",
    name = "hades_compatibility:update_chests",
    nodenames = {
      "hades_chests:chest",
      "hades_chests:chest_black",
      "hades_chests:chest_blue",
      "hades_chests:chest_cyan",
      "hades_chests:chest_dark_green",
      "hades_chests:chest_dark_grey",
      "hades_chests:chest_green",
      "hades_chests:chest_grey",
      "hades_chests:chest_magenta",
      "hades_chests:chest_orange",
      "hades_chests:chest_pink",
      "hades_chests:chest_red",
      "hades_chests:chest_violet",
      "hades_chests:chest_white",
      "hades_chests:chest_yellow",
    },
    run_at_every_load = false,
    action = function(pos, node)
      local meta = minetest.get_meta(pos)
      local inv = meta:get_inventory()
      if (inv:get_size("main")==32) then
        inv:set_size("main", 40)
        meta:set_string("formspec", chest_formspec)
      end
    end
  });

minetest.register_lbm(
  {
    label = "Upgrade old locked chests.",
    name = "hades_compatibility:update_locked_chests",
    nodenames = {
      "hades_chests:chest_locked",
      "hades_chests:chest_black_locked",
      "hades_chests:chest_blue_locked",
      "hades_chests:chest_cyan_locked",
      "hades_chests:chest_dark_green_locked",
      "hades_chests:chest_dark_grey_locked",
      "hades_chests:chest_green_locked",
      "hades_chests:chest_grey_locked",
      "hades_chests:chest_magenta_locked",
      "hades_chests:chest_orange_locked",
      "hades_chests:chest_pink_locked",
      "hades_chests:chest_red_locked",
      "hades_chests:chest_violet_locked",
      "hades_chests:chest_white_locked",
      "hades_chests:chest_yellow_locked",
    },
    run_at_every_load = false,
    action = function(pos, node)
      local meta = minetest.get_meta(pos)
      local inv = meta:get_inventory()
      if (inv:get_size("main")==32) then
        inv:set_size("main", 40)
      end
    end
  });

